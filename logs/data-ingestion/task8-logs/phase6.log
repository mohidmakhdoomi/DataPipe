[2025-10-05 17:20:47] [INFO] Phase 6: === Starting Phase 6: Persistence Validation ===
[2025-10-05 17:20:47] [INFO] Phase 6: Recording baseline state...
[2025-10-05 17:20:47] [INFO] Phase 6: Baseline PostgreSQL users count: 316301
[2025-10-05 17:20:51] [INFO] Phase 6: Baseline Kafka offsets recorded: 6 entries
[2025-10-05 17:20:51] [INFO] Phase 6: Baseline pod states recorded
[2025-10-05 17:20:51] [INFO] Phase 6: Forcing pod restarts to test persistence...
[2025-10-05 17:20:52] [INFO] Phase 6: Pausing Debezium connectors...
[2025-10-05 17:20:58] [INFO] Phase 6: Waiting for Kafka Connect to terminate...
[2025-10-05 17:21:01] [INFO] Phase 6: ✅ Kafka Connect scaled to replicas=0
[2025-10-05 17:21:01] [INFO] Phase 6: Waiting for Schema Registry to terminate...
[2025-10-05 17:21:02] [INFO] Phase 6: ✅ Schema Registry scaled to replicas=0
[2025-10-05 17:21:02] [INFO] Phase 6: Waiting for Kafka to terminate...
[2025-10-05 17:21:05] [INFO] Phase 6: ✅ Kafka scaled to replicas=2
[2025-10-05 17:21:05] [INFO] Phase 6: Waiting for PostgreSQL to terminate...
[2025-10-05 17:21:07] [INFO] Phase 6: ✅ PostgreSQL scaled to replicas=0
[2025-10-05 17:21:07] [INFO] Phase 6: Deleted 4 pod(s)
[2025-10-05 17:21:17] [INFO] Phase 6: Restarting pods...
[2025-10-05 17:21:17] [INFO] Phase 6: Scaling PostgreSQL to replicas=1
[2025-10-05 17:21:17] [INFO] Phase 6: Waiting for PostgreSQL to be ready...
[2025-10-05 17:21:40] [INFO] Phase 6: ✅ PostgreSQL pod restarted and ready
[2025-10-05 17:21:40] [INFO] Phase 6: Scaling Kafka to replicas=3
[2025-10-05 17:21:40] [INFO] Phase 6: Waiting for Kafka to be ready...
[2025-10-05 17:22:12] [INFO] Phase 6: ✅ Kafka pod restarted and ready
[2025-10-05 17:22:12] [INFO] Phase 6: Scaling Schema Registry to replicas=1
[2025-10-05 17:22:12] [INFO] Phase 6: Waiting for Schema Registry to be ready...
[2025-10-05 17:23:13] [INFO] Phase 6: ✅ Schema Registry pod restarted and ready
[2025-10-05 17:23:13] [INFO] Phase 6: Scaling Kafka Connect to replicas=1
[2025-10-05 17:23:13] [INFO] Phase 6: Waiting for Kafka Connect to be ready...
[2025-10-05 17:24:24] [INFO] Phase 6: ✅ Kafka Connect pod restarted and ready
[2025-10-05 17:24:24] [INFO] Phase 6: Resuming Debezium connectors after 20s ...
[2025-10-05 17:24:50] [INFO] Phase 6: ✅ Resumed connectors
[2025-10-05 17:24:50] [INFO] Phase 6: Allowing additional stabilization time...
[2025-10-05 17:25:50] [INFO] Phase 6: Verifying data persistence after restart...
[2025-10-05 17:25:50] [INFO] Phase 6: Checking PostgreSQL data persistence...
[2025-10-05 17:25:50] [INFO] Phase 6: ✅ PostgreSQL data persistence: PASSED (316301 users)
[2025-10-05 17:25:50] [INFO] Phase 6: Checking Kafka data persistence...
[2025-10-05 17:25:54] [INFO] Phase 6: ✅ Kafka data persistence: PASSED (offsets preserved)
[2025-10-05 17:25:54] [INFO] Phase 6: Testing connectivity after restart...
[2025-10-05 17:25:54] [INFO] Phase 6: ✅ PostgreSQL connectivity restored
[2025-10-05 17:25:58] [INFO] Phase 6: ✅ Kafka connectivity restored
[2025-10-05 17:25:58] [INFO] Phase 6: Testing CDC connector recovery...
[2025-10-05 17:25:59] [INFO] Phase 6: ✅ CDC connector recovered and running
[2025-10-05 17:25:59] [INFO] Phase 6: Performing final health check...
[2025-10-05 17:25:59] [INFO] Phase 6: ✅ All pods healthy after restart
[2025-10-05 17:25:59] [INFO] Phase 6: ✅ Phase 6 completed successfully - persistence validation passed
